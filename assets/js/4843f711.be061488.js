"use strict";(self.webpackChunksandwich_site=self.webpackChunksandwich_site||[]).push([[8191],{6506:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>c,contentTitle:()=>i,default:()=>d,frontMatter:()=>n,metadata:()=>l,toc:()=>h});var a=r(6070),s=r(6113),o=r(4125);const n={id:"failure_report",title:"Failure Report Formatter"},i=void 0,l={id:"formatters/failure_report",title:"Failure Report Formatter",description:"The failure report formatter is similar to the print formatter, but it only prints failures. It's useful when you want less verbose output that only prints if something goes wrong. Like with the print formatter, it shows log messages, callstacks, and failure info in its messages.",source:"@site/docs/formatters/failure_report.md",sourceDirName:"formatters",slug:"/formatters/failure_report",permalink:"/sandwich/docs/formatters/failure_report",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/edit/master/website/docs/formatters/failure_report.md",tags:[],version:"current",frontMatter:{id:"failure_report",title:"Failure Report Formatter"},sidebar:"docs",previous:{title:"Print Formatter",permalink:"/sandwich/docs/formatters/print"},next:{title:"Log Saver Formatter",permalink:"/sandwich/docs/formatters/log_saver"}},c={},h=[{value:"Usage",id:"usage",level:2},{value:"Configuration",id:"configuration",level:2}];function u(e){const t={a:"a",code:"code",h2:"h2",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.p,{children:"The failure report formatter is similar to the print formatter, but it only prints failures. It's useful when you want less verbose output that only prints if something goes wrong. Like with the print formatter, it shows log messages, callstacks, and failure info in its messages."}),"\n",(0,a.jsx)("img",{alt:"Failure report formatter output",src:(0,o.A)("img/failure_report.png")}),"\n",(0,a.jsx)(t.h2,{id:"usage",children:"Usage"}),"\n",(0,a.jsxs)(t.p,{children:["If you're using ",(0,a.jsx)(t.a,{href:"http://hackage.haskell.org/package/sandwich/docs/Test-Sandwich.html#v:runSandwichWithCommandLineArgs",children:"runSandwichWithCommandLineArgs"}),", you can simply pass ",(0,a.jsx)(t.code,{children:"--print-failures"})," and the failure report formatter will be selected."]}),"\n",(0,a.jsxs)(t.p,{children:["If you're using the lower-level ",(0,a.jsx)(t.a,{href:"http://hackage.haskell.org/package/sandwich0.1.0.3/docs/Test-Sandwich.html#v:runSandwich",children:"runSandwich"}),", simply include the formatter in the ",(0,a.jsx)(t.a,{href:"http://hackage.haskell.org/package/sandwich/docs/Test-Sandwich-Options.html#v:optionsFormatters",children:"optionsFormatters"})," of your sandwich options."]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-haskell",children:"import Test.Sandwich.Formatters.FailureReport\n\nmain :: IO ()\nmain = runSandwich options myTests\n  where\n    options = defaultOptions {\n      optionsFormatters = [SomeFormatter defaultFailureReportFormatter]\n      }\n"})}),"\n",(0,a.jsx)(t.h2,{id:"configuration",children:"Configuration"}),"\n",(0,a.jsxs)(t.p,{children:["Like other formatters, you can adjust the ",(0,a.jsx)(t.a,{href:"http://hackage.haskell.org/package/sandwich/docs/Test-Sandwich-Formatters-FailureReport.html#v:failureReportLogLevel",children:"visibility threshold"}),". You can also change the ",(0,a.jsx)(t.a,{href:"http://hackage.haskell.org/package/sandwich/docs/Test-Sandwich-Formatters-FailureReport.html#v:failureReportLogLevel",children:"log level"})," and set whether or not to include ",(0,a.jsx)(t.a,{href:"http://hackage.haskell.org/package/sandwich/docs/Test-Sandwich-Formatters-FailureReport.html#v:failureReportFormatterIncludeCallStacks",children:"callstacks"}),"."]}),"\n",(0,a.jsxs)(t.p,{children:["You can see the configuration options in the ",(0,a.jsx)(t.a,{href:"http://hackage.haskell.org/package/sandwich/docs/Test-Sandwich-Formatters-FailureReport.html",children:"documentation"}),"."]})]})}function d(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(u,{...e})}):u(e)}},6113:(e,t,r)=>{r.d(t,{R:()=>n,x:()=>i});var a=r(758);const s={},o=a.createContext(s);function n(e){const t=a.useContext(o);return a.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:n(e.components),a.createElement(o.Provider,{value:t},e.children)}}}]);